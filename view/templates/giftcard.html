<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarjetas Regalo - OverSound</title>
    <link rel="stylesheet" href="{{ url_for('static', path='styles/header.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='styles/giftcard.css') }}">
</head>
<body>
    {% include 'common/header.html' %}
    
    <div class="giftcard-container">
        <!-- Header de Tarjetas Regalo -->
        <div class="giftcard-header">
            <h1>Tarjetas Regalo OverSound</h1>
            <p>Regala música a tus amigos con nuestras tarjetas regalo. Válidas para todo: canciones, álbumes y merchandising</p>
        </div>

        <!-- Contenedor Principal -->
        <div class="giftcard-main">
            <!-- Sección de Selección -->
            <div class="giftcard-selection">
                <h2>Elige tu Tarjeta Regalo</h2>
                
                <!-- Selector de Montos Predefinidos -->
                <div class="preset-amounts">
                    <h3>Montos Populares</h3>
                    <div class="amount-grid">
                        <button class="amount-btn" data-amount="10">
                            <span class="amount-value">€10</span>
                            <span class="amount-label">Iniciador</span>
                        </button>
                        <button class="amount-btn" data-amount="25">
                            <span class="amount-value">€25</span>
                            <span class="amount-label">Popular</span>
                        </button>
                        <button class="amount-btn" data-amount="50">
                            <span class="amount-value">€50</span>
                            <span class="amount-label">Generoso</span>
                        </button>
                        <button class="amount-btn" data-amount="100">
                            <span class="amount-value">€100</span>
                            <span class="amount-label">Premium</span>
                        </button>
                    </div>
                </div>

                <!-- Cantidad Personalizada -->
                <div class="custom-amount">
                    <h3>Cantidad Personalizada</h3>
                    <div class="custom-input-group">
                        <span class="currency-symbol">€</span>
                        <input 
                            type="number" 
                            id="custom-amount" 
                            placeholder="Ingresa el monto" 
                            min="5" 
                            max="500" 
                            value="50"
                            class="custom-amount-input"
                        >
                    </div>
                    <p class="amount-range">Monto mínimo: €5 | Monto máximo: €500</p>
                </div>

                <!-- Información de Validez -->
                <div class="giftcard-info">
                    <div class="info-item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <div>
                            <h4>Válida por 2 Años</h4>
                            <p>Usa la tarjeta en cualquier momento dentro de 2 años</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <div>
                            <h4>Uso Inmediato</h4>
                            <p>Recibe el código por email al instante</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                        </svg>
                        <div>
                            <h4>Uso Flexible</h4>
                            <p>Úsala para cualquier producto en nuestra tienda</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sección de Vista Previa -->
            <div class="giftcard-preview">
                <h2>Vista Previa</h2>
                <div class="preview-card">
                    <div class="card-front">
                        <div class="card-background"></div>
                        <div class="card-content">
                            <div class="card-logo">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                    <path d="M9 18V5l12-2v13M9 18c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3zm12-2c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span>OverSound</span>
                            </div>
                            <div class="card-code">
                                <span class="code-label">Código</span>
                                <span class="code-value">XXXX-XXXX-XXXX-XXXX</span>
                            </div>
                            <div class="card-amount">
                                <span class="amount-label">Valor de Tarjeta</span>
                                <span class="amount-value" id="preview-amount">€50,00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Opción de Mensaje Personalizado -->
                <div class="personal-message">
                    <h3>Mensaje Personalizado (Opcional)</h3>
                    <textarea 
                        id="gift-message" 
                        placeholder="Escribe un mensaje especial para quien reciba la tarjeta..." 
                        maxlength="200"
                        rows="4"
                        class="message-textarea"
                    ></textarea>
                    <p class="character-count"><span id="char-count">0</span>/200 caracteres</p>
                </div>

                <!-- Email del Destinatario -->
                <div class="recipient-email">
                    <h3>Email del Destinatario</h3>
                    <input 
                        type="email" 
                        id="recipient-email" 
                        placeholder="email@example.com"
                        class="email-input"
                    >
                    <p class="email-info">La tarjeta será enviada a este email</p>
                </div>

                <!-- Resumen -->
                <div class="order-summary">
                    <h3>Resumen</h3>
                    <div class="summary-row">
                        <span>Tarjeta Regalo</span>
                        <span id="summary-amount">€50,00</span>
                    </div>
                    <div class="summary-row">
                        <span>Comisión</span>
                        <span id="summary-fee">€0,00</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total</span>
                        <span id="summary-total">€50,00</span>
                    </div>
                </div>

                <!-- Botón de Compra -->
                <button id="purchase-btn" class="btn-purchase">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    Comprar Tarjeta Regalo
                </button>
            </div>
        </div>

        <!-- Sección de Beneficios -->
        <section class="giftcard-benefits">
            <h2>¿Por Qué Regalar Tarjetas OverSound?</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                            <line x1="7" y1="7" x2="7.01" y2="7"></line>
                        </svg>
                    </div>
                    <h3>Regalo Perfecto</h3>
                    <p>No sabes qué regalar a un amante de la música? Las tarjetas regalo son la solución perfecta.</p>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                    </div>
                    <h3>Sin Fechas de Caducidad</h3>
                    <p>Tu tarjeta regalo es válida durante 2 años. Mucho tiempo para disfrutar.</p>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 12a8 8 0 0 1 16 0 8 8 0 0 1-16 0z"></path>
                            <path d="M12 8v4l3 2"></path>
                        </svg>
                    </div>
                    <h3>Entrega Instantánea</h3>
                    <p>El destinatario recibirá su código por email inmediatamente después de la compra.</p>
                </div>

                <div class="benefit-card">
                    <div class="benefit-icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path>
                            <polyline points="16 12 12 8 8 12"></polyline>
                            <line x1="12" y1="16" x2="12" y2="8"></line>
                        </svg>
                    </div>
                    <h3>Múltiples Usos</h3>
                    <p>Úsala para comprar canciones, álbumes, merchandising o lo que tu corazón desee.</p>
                </div>
            </div>
        </section>

        <!-- Modal de Confirmación -->
        <div id="confirmation-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <button class="modal-close">&times;</button>
                <div class="modal-header">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                    <h2>¡Compra Realizada!</h2>
                </div>
                <div class="modal-body">
                    <p>Tu tarjeta regalo ha sido comprada exitosamente.</p>
                    <p>Un email de confirmación ha sido enviado a <strong id="modal-email"></strong></p>
                    <div class="modal-code">
                        <p>Código de la Tarjeta:</p>
                        <p class="code-display" id="modal-code">XXXX-XXXX-XXXX-XXXX</p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-modal-action" onclick="continueShopping()">Continuar Comprando</button>
                    <button class="btn-modal-secondary" onclick="goToHome()">Ir a Inicio</button>
                </div>
            </div>
        </div>

        <!-- Modal de Error -->
        <div id="error-modal" class="modal error-modal" style="display: none;">
            <div class="modal-content">
                <button class="modal-close">&times;</button>
                <div class="modal-header error">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="12" y1="8" x2="12" y2="12"></line>
                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                    </svg>
                    <h2>Error en la Compra</h2>
                </div>
                <div class="modal-body">
                    <p id="error-message">Ha ocurrido un error al procesar tu compra.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn-modal-action" onclick="closeErrorModal()">Intentar de Nuevo</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="giftcard-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>OverSound</h3>
                <p>La plataforma que conecta artistas con fans a través de la música.</p>
            </div>
            <div class="footer-section">
                <h4>Tienda</h4>
                <ul>
                    <li><a href="/shop">Tienda</a></li>
                    <li><a href="/giftcard">Tarjetas Regalo</a></li>
                    <li><a href="/">Inicio</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Ayuda</h4>
                <ul>
                    <li><a href="/help">Centro de Ayuda</a></li>
                    <li><a href="/contact">Contacto</a></li>
                    <li><a href="/faq">Preguntas Frecuentes</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 OverSound. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', path='js/giftcard.js') }}"></script>
</body>
</html>
