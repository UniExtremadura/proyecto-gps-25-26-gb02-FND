<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Studio | OverSound</title>
    <link rel="stylesheet" href="{{ url_for('static', path='styles/artist_studio.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', path='styles/header.css') }}">
</head>
<body>
    {% include 'common/header.html' %}
    
    <main class="studio-main">
        <!-- Studio Header -->
        <section class="studio-header">
            <div class="studio-header-content">
                <h1>Mi Studio de Música</h1>
                <p>Gestiona tus canciones, álbumes y merchandise</p>
            </div>
        </section>

        <!-- Navigation Tabs -->
        <section class="studio-nav">
            <div class="nav-container">
                <nav class="nav-tabs">
                    <button class="nav-tab active" data-section="dashboard">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke-width="2"></path>
                            <polyline points="9 22 9 12 15 12 15 22" stroke-width="2"></polyline>
                        </svg>
                        Dashboard
                    </button>
                    <button class="nav-tab" data-section="canciones">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 18V5l12-2v13M9 18c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3zm12-2c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z" stroke-width="2"></path>
                        </svg>
                        Canciones
                    </button>
                    <button class="nav-tab" data-section="albumes">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="10" stroke-width="2"></circle>
                            <circle cx="12" cy="12" r="3" stroke-width="2"></circle>
                        </svg>
                        Álbumes
                    </button>
                    <button class="nav-tab" data-section="merchandise">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" stroke-width="2"></path>
                            <line x1="7" y1="7" x2="7.01" y2="7" stroke-width="2"></line>
                        </svg>
                        Merchandise
                    </button>
                </nav>
            </div>
        </section>

        <!-- Main Content -->
        <section class="studio-content">
            <div class="content-container">
                
                <!-- Dashboard Section -->
                <div class="content-section active" id="dashboard-section">
                    <div class="dashboard-grid">
                        <!-- Stats Cards -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon songs">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M9 18V5l12-2v13M9 18c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3zm12-2c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z"></path>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <h3>Canciones</h3>
                                    <p class="stat-number" data-stat="songs">0</p>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon albums">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <circle cx="12" cy="12" r="3" fill="white"></circle>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <h3>Álbumes</h3>
                                    <p class="stat-number" data-stat="albums">0</p>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon merch">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <h3>Merchandise</h3>
                                    <p class="stat-number" data-stat="merch">0</p>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon views">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </div>
                                <div class="stat-content">
                                    <h3>Vistas</h3>
                                    <p class="stat-number" data-stat="views">0</p>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="quick-actions">
                            <h2>Acciones Rápidas</h2>
                            <div class="actions-grid">
                                <a href="/song/upload" class="action-button primary">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"></path>
                                    </svg>
                                    Subir Canción
                                </a>
                                <a href="/album/upload" class="action-button secondary">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"></path>
                                    </svg>
                                    Crear Álbum
                                </a>
                                <a href="/merch/upload" class="action-button secondary">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"></path>
                                    </svg>
                                    Subir Merchandise
                                </a>
                                <a href="/artist/edit" class="action-button tertiary">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke-width="2"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke-width="2"></path>
                                    </svg>
                                    Editar Perfil
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Canciones Section -->
                <div class="content-section" id="canciones-section">
                    <div class="section-header">
                        <h2>Mis Canciones</h2>
                        <a href="/song/upload" class="btn btn-primary">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"></path>
                            </svg>
                            Subir Canción
                        </a>
                    </div>

                    <div class="songs-list">
                        {% if artist.owner_songs %}
                            {% for song in artist.owner_songs %}
                                <div class="song-item">
                                    <div class="song-info">
                                        {% if song.cover %}
                                            <img src="{{ song.cover }}" alt="{{ song.title }}" class="song-cover">
                                        {% else %}
                                            <div class="song-cover-placeholder">
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                                    <path d="M9 18V5l12-2v13M9 18c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3zm12-2c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z"></path>
                                                </svg>
                                            </div>
                                        {% endif %}
                                        <div class="song-details">
                                            <h3>{{ song.title }}</h3>
                                            <p class="song-meta">{{ song.duration }}s • €{{ song.price }}</p>
                                        </div>
                                    </div>
                                    <div class="song-actions">
                                        <a href="/song/{{ song.songId }}" class="icon-btn" title="Ver">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke-width="2"></path>
                                                <circle cx="12" cy="12" r="3" stroke-width="2"></circle>
                                            </svg>
                                        </a>
                                        <a href="/song/{{ song.songId }}/edit" class="icon-btn" title="Editar">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" stroke-width="2"></path>
                                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" stroke-width="2"></path>
                                            </svg>
                                        </a>
                                        <button class="icon-btn delete-btn" data-id="{{ song.songId }}" data-type="song" title="Eliminar">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <polyline points="3 6 5 6 21 6" stroke-width="2"></polyline>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" stroke-width="2"></path>
                                                <line x1="10" y1="11" x2="10" y2="17" stroke-width="2"></line>
                                                <line x1="14" y1="11" x2="14" y2="17" stroke-width="2"></line>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="empty-state">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M9 18V5l12-2v13M9 18c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3zm12-2c0 1.657-1.343 3-3 3s-3-1.343-3-3 1.343-3 3-3 3 1.343 3 3z" stroke-width="2"></path>
                                </svg>
                                <h3>No tienes canciones aún</h3>
                                <p>Sube tu primera canción para empezar</p>
                                <a href="/song/upload" class="btn btn-primary">Subir Canción</a>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Álbumes Section -->
                <div class="content-section" id="albumes-section">
                    <div class="section-header">
                        <h2>Mis Álbumes</h2>
                        <a href="/album/upload" class="btn btn-primary">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"></path>
                            </svg>
                            Crear Álbum
                        </a>
                    </div>

                    <div class="albums-grid">
                        {% if artist.owner_albums %}
                            {% for album in artist.owner_albums %}
                                <div class="album-card-studio">
                                    <div class="album-cover">
                                        {% if album.cover %}
                                            <img src="{{ album.cover }}" alt="{{ album.title }}">
                                        {% else %}
                                            <div class="album-cover-placeholder">
                                                <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                                    <circle cx="12" cy="12" r="10"></circle>
                                                    <circle cx="12" cy="12" r="3" fill="white"></circle>
                                                </svg>
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="album-info">
                                        <h3>{{ album.title }}</h3>
                                        <p class="album-meta">{{ album.songs|length }} canciones • €{{ album.price }}</p>
                                        <div class="album-actions">
                                            <a href="/album/{{ album.albumId }}" class="btn btn-sm">Ver</a>
                                            <a href="/album/{{ album.albumId }}/edit" class="btn btn-sm secondary">Editar</a>
                                            <button class="btn btn-sm tertiary delete-btn" data-id="{{ album.albumId }}" data-type="album">Eliminar</button>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="empty-state full-width">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10" stroke-width="2"></circle>
                                    <circle cx="12" cy="12" r="3" stroke-width="2"></circle>
                                </svg>
                                <h3>No tienes álbumes aún</h3>
                                <p>Crea tu primer álbum con tus canciones</p>
                                <a href="/album/upload" class="btn btn-primary">Crear Álbum</a>
                            </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Merchandise Section -->
                <div class="content-section" id="merchandise-section">
                    <div class="section-header">
                        <h2>Mi Merchandise</h2>
                        <a href="/merch/upload" class="btn btn-primary">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round"></path>
                            </svg>
                            Subir Producto
                        </a>
                    </div>

                    <div class="merch-grid">
                        {% if artist.owner_merch %}
                            {% for merch in artist.owner_merch %}
                                <div class="merch-card-studio">
                                    <div class="merch-cover">
                                        {% if merch.cover %}
                                            <img src="{{ merch.cover }}" alt="{{ merch.title }}">
                                        {% else %}
                                            <div class="merch-cover-placeholder">
                                                <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                                                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path>
                                                </svg>
                                            </div>
                                        {% endif %}
                                    </div>
                                    <div class="merch-info">
                                        <h3>{{ merch.title }}</h3>
                                        <p class="merch-meta">€{{ merch.price }}</p>
                                        <div class="merch-actions">
                                            <a href="/merch/{{ merch.merchId }}" class="btn btn-sm">Ver</a>
                                            <a href="/merch/{{ merch.merchId }}/edit" class="btn btn-sm secondary">Editar</a>
                                            <button class="btn btn-sm tertiary delete-btn" data-id="{{ merch.merchId }}" data-type="merch">Eliminar</button>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <div class="empty-state full-width">
                                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" stroke-width="2"></path>
                                    <line x1="7" y1="7" x2="7.01" y2="7" stroke-width="2"></line>
                                </svg>
                                <h3>No tienes merchandise aún</h3>
                                <p>Sube productos exclusivos de tu marca</p>
                                <a href="/merch/upload" class="btn btn-primary">Subir Producto</a>
                            </div>
                        {% endif %}
                    </div>
                </div>

            </div>
        </section>
    </main>

    <script src="{{ url_for('static', path='js/ArtistStudio.js') }}"></script>
</body>
</html>
